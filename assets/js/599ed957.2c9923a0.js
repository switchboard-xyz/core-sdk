"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[184],{54852:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var a=r(49231);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),l=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=l(r),p=n,m=d["".concat(s,".").concat(p)]||d[p]||h[p]||i;return r?a.createElement(m,o(o({ref:t},u),{},{components:r})):a.createElement(m,o({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[d]="string"==typeof e?e:n,o[1]=c;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},71176:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(49231);const n=e=>{let{type:t,header:r,children:n}=e;const i=r||t.toUpperCase();return a.createElement("div",{className:`custom-admonition ${t}`},i&&a.createElement("div",{className:"custom-admonition-header"},i),a.createElement("div",{className:"custom-admonition-content"},n))}},96211:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=r(432),n=(r(49231),r(54852)),i=r(71176);const o={slug:"./tee",title:"TEE",keywords:["Switchboard","web3","oracle","data feeds","vrf","randomness","solana","aptos"]},c="TEE",s={unversionedId:"architecture/switchboard-v3/tee",id:"architecture/switchboard-v3/tee",title:"TEE",description:"To fully grasp the functionality of Switchboard V3, it's crucial to understand",source:"@site/docs/101-architecture/00-switchboard-v3/102-tee.mdx",sourceDirName:"101-architecture/00-switchboard-v3",slug:"/architecture/switchboard-v3/tee",permalink:"/architecture/switchboard-v3/tee",draft:!1,tags:[],version:"current",sidebarPosition:102,frontMatter:{slug:"./tee",title:"TEE",keywords:["Switchboard","web3","oracle","data feeds","vrf","randomness","solana","aptos"]},sidebar:"sidebar",previous:{title:"Oracle Problem",permalink:"/architecture/switchboard-v3/oracle-problem"},next:{title:"Economic Security WIP",permalink:"/architecture/switchboard-v3/economic-security"}},l={},u=[{value:"What is a TEE?",id:"what-is-a-tee",level:2},{value:"How does Switchboard utilize TEEs?",id:"how-does-switchboard-utilize-tees",level:2},{value:"How does the signature from an oracle ensure code was verified?",id:"how-does-the-signature-from-an-oracle-ensure-code-was-verified",level:2},{value:"SGX and the Gramine Framework",id:"sgx-and-the-gramine-framework",level:2}],d={toc:u},h="wrapper";function p(e){let{components:t,...r}=e;return(0,n.kt)(h,(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"tee"},"TEE"),(0,n.kt)("p",null,"To fully grasp the functionality of Switchboard V3, it's crucial to understand\nthe concept of a TEE and how Switchboard leverages it with Economic Security."),(0,n.kt)("h2",{id:"what-is-a-tee"},"What is a TEE?"),(0,n.kt)("p",null,"TEE guarantees that the code and data loaded inside its secure enclave are\nprotected with respect to confidentiality and integrity. The TEE concept\nbecomes particularly useful in scenarios where trust is an issue."),(0,n.kt)("p",null,"For example, consider Alice and Bob:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Alice wants Bob to execute a piece of code but doesn't trust him to execute it honestly."),(0,n.kt)("li",{parentName:"ul"},"By using a TEE, Bob can run the program within his secure environment and receive a certificate (or quote) that verifies the execution and output of the code was as intended."),(0,n.kt)("li",{parentName:"ul"},"This way, Alice can then verify this certificate to ensure that Bob executed honestly.")),(0,n.kt)("p",null,"This framework can be applied to a wide array of use cases where verifying\nthe integrity and confidentiality of executed code is essential. For instance,\nin data reporting, an untrusted party (like Bob or in Switchboard's case, the\noracles) can fetch data from various sources, and the TEE can ensure that this\ninformation is fetched correctly and confidentially."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"how-does-switchboard-utilize-tees"},"How does Switchboard utilize TEEs?"),(0,n.kt)(i.Z,{type:"info",mdxType:"CustomAdmonition"},"In today's interconnected world, ensuring the security, privacy, and verifiability of data and code has become increasingly important. TEEs are used by used by governments, enterprises, and cloud service providers to enable the secure handling of confidential information on mobile devices and on server infrastructure."),(0,n.kt)("p",null,"Switchboard v3 operates a network of TEE machines. These machines are peer-verified\non-chain with an economic staking requirement, ensuring that they run code solely\nfor the purpose of relaying certificate information back to the blockchain."),(0,n.kt)("p",null,"The process works as follows:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"User triggers code to execute:"),"        The Switchboard network monitors for a various number of triggers to execute a piece of user code."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Assignment to TEE Machines:"),"           Once a request is received, it's assigned to one of the TEE machines for processing. This ensures that the code is executed in a secure, tamper-proof environment."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Execution and Certificate Generation:")," Inside the TEE, the user code is executed to produce an output. Along with the output, a certificate is generated. This certificate serves as a verifiable record that the code was executed correctly and the output is authentic."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Verification by Switchboard Oracle:"),"   Once the certificate is generated, it is then verified by a Switchboard oracle. The oracle plays a crucial role in ensuring the authenticity of the certificate."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Signing and On-Chain Transmission:"),"    After verification, the transaction output from user code is signed by the oracle and sent back on-chain. This step completes the cycle, providing a secure and trustworthy way to execute code and verify its output on the blockchain.")),(0,n.kt)("h2",{id:"how-does-the-signature-from-an-oracle-ensure-code-was-verified"},"How does the signature from an oracle ensure code was verified?"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Every oracle runs a verifier inside a TEE as well."),(0,n.kt)("li",{parentName:"ul"},"These verifiers can only run code dictated by the blockchain."),(0,n.kt)("li",{parentName:"ul"},"Every oracle creates a keypair inside their enclave purely for attesting user code results."),(0,n.kt)("li",{parentName:"ul"},"The oracle will sign and ONLY sign if the user code signature was validated."),(0,n.kt)("li",{parentName:"ul"},"Thus, by the oracle signing the output transaction, the user code was validated.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"At the same time, Switchboard V3 utilizes economic incentives")," for performance\nstatus towards each oracle. By providing a relative metrics comparison of all\nrunning oracles, we can slash out poor performers to maintain optimal network\nparticipation and ensure the following:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Uptime"),(0,n.kt)("li",{parentName:"ul"},"Network speed"),(0,n.kt)("li",{parentName:"ul"},"Guarantee of function spin-up"),(0,n.kt)("li",{parentName:"ul"},"Host resources")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"sgx-and-the-gramine-framework"},"SGX and the Gramine Framework"),(0,n.kt)("p",null,"Switchboard uses the Gramine framework to make user code SGX compatible without\nalteration."),(0,n.kt)(i.Z,{type:"info",mdxType:"CustomAdmonition"},(0,n.kt)("p",null,"You can read more about ",(0,n.kt)("strong",{parentName:"p"},"TEE and Intel SGX")," here: ",(0,n.kt)("a",{parentName:"p",href:"../../info/more-tee-sgx"},"More TEE & SGX")),(0,n.kt)("p",null,"You can read more about ",(0,n.kt)("strong",{parentName:"p"},"Gramine")," here: ",(0,n.kt)("a",{parentName:"p",href:"https://gramineproject.io/"},"https://gramineproject.io/"))))}p.isMDXComponent=!0}}]);