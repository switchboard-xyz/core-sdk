"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2093],{85162:(t,l,n)=>{n.d(l,{Z:()=>a});var e=n(67294),o=n(86010);const r="tabItem_Ymn6";function a(t){let{children:l,hidden:n,className:a}=t;return e.createElement("div",{role:"tabpanel",className:(0,o.Z)(r,a),hidden:n},l)}},65488:(t,l,n)=>{n.d(l,{Z:()=>b});var e=n(83117),o=n(67294),r=n(86010),a=n(72389),u=n(67392),i=n(7094),s=n(12466);const k="tabList__CuJ",c="tabItem_LNqP";function p(t){var l,n;const{lazy:a,block:p,defaultValue:b,values:d,groupId:h,className:f}=t,m=o.Children.map(t.children,(t=>{if((0,o.isValidElement)(t)&&"value"in t.props)return t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof t.type?t.type:t.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),E=null!=d?d:m.map((t=>{let{props:{value:l,label:n,attributes:e}}=t;return{value:l,label:n,attributes:e}})),g=(0,u.l)(E,((t,l)=>t.value===l.value));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((t=>t.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const v=null===b?b:null!=(l=null!=b?b:null==(n=m.find((t=>t.props.default)))?void 0:n.props.value)?l:m[0].props.value;if(null!==v&&!E.some((t=>t.value===v)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+E.map((t=>t.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:T,setTabGroupChoices:y}=(0,i.U)(),[R,A]=(0,o.useState)(v),C=[],{blockElementScrollPositionUntilNextRender:_}=(0,s.o5)();if(null!=h){const t=T[h];null!=t&&t!==R&&E.some((l=>l.value===t))&&A(t)}const P=t=>{const l=t.currentTarget,n=C.indexOf(l),e=E[n].value;e!==R&&(_(l),A(e),null!=h&&y(h,String(e)))},D=t=>{var l;let n=null;switch(t.key){case"ArrowRight":{var e;const l=C.indexOf(t.currentTarget)+1;n=null!=(e=C[l])?e:C[0];break}case"ArrowLeft":{var o;const l=C.indexOf(t.currentTarget)-1;n=null!=(o=C[l])?o:C[C.length-1];break}}null==(l=n)||l.focus()};return o.createElement("div",{className:(0,r.Z)("tabs-container",k)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":p},f)},E.map((t=>{let{value:l,label:n,attributes:a}=t;return o.createElement("li",(0,e.Z)({role:"tab",tabIndex:R===l?0:-1,"aria-selected":R===l,key:l,ref:t=>C.push(t),onKeyDown:D,onFocus:P,onClick:P},a,{className:(0,r.Z)("tabs__item",c,null==a?void 0:a.className,{"tabs__item--active":R===l})}),null!=n?n:l)}))),a?(0,o.cloneElement)(m.filter((t=>t.props.value===R))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},m.map(((t,l)=>(0,o.cloneElement)(t,{key:l,hidden:t.props.value!==R})))))}function b(t){const l=(0,a.Z)();return o.createElement(p,(0,e.Z)({key:String(l)},t))}},61441:(t,l,n)=>{n.d(l,{ZP:()=>a});var e=n(83117),o=(n(67294),n(3905));const r={toc:[]};function a(t){let{components:l,...n}=t;return(0,o.kt)("wrapper",(0,e.Z)({},r,n,{components:l,mdxType:"MDXLayout"}),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Env Variable"),(0,o.kt)("th",null,"Definition"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"FS_PAYER_SECRET_PATH"),(0,o.kt)("td",null,(0,o.kt)("b",null,"Type")," - Filesystem Path",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Local filesystem path to keypair file that will pay for on-chain transactions and is the authority for the oracle")),(0,o.kt)("tr",null,(0,o.kt)("td",null,"PAYER_SECRETS or DOCKER_PAYER_SECRET"),(0,o.kt)("td",null,(0,o.kt)("b",null,"Type")," - Docker Secret",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Docker Secret path to keypair file that will pay for on-chain transactions and is the authority for the oracle")),(0,o.kt)("tr",null,(0,o.kt)("td",null,"GOOGLE_PAYER_SECRET_PATH"),(0,o.kt)("td",null,(0,o.kt)("b",null,"Type")," - GCP Resource Path",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Google cloud resource to manage your keypair securely.")),(0,o.kt)("tr",null,(0,o.kt)("td",null,"AMAZON_PAYER_SECRET_PATH"),(0,o.kt)("td",null,(0,o.kt)("b",null,"Type")," - AWS ARN path",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Amazon web services ARN path of secret.")))))}a.isMDXComponent=!0},25161:(t,l,n)=>{n.d(l,{ZP:()=>a});var e=n(83117),o=(n(67294),n(3905));const r={toc:[]};function a(t){let{components:l,...n}=t;return(0,o.kt)("wrapper",(0,e.Z)({},r,n,{components:l,mdxType:"MDXLayout"}),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Env Variable"),(0,o.kt)("th",null,"Definition"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"METRICS_EXPORTER"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Optional")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - prometheus / gcp / opentelemetry-collector*",(0,o.kt)("br",null),(0,o.kt)("b",null,"Default")," - prometheus",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Dictates which metric suite to aggregate resource metrics, as defined in:",(0,o.kt)("br",null),(0,o.kt)("a",{href:"./monitoring"},"Oracle - Monitoring"),(0,o.kt)("br",null),"*opentelemetry-collector only supports the default endpoint localhost:55681/v1/metric")),(0,o.kt)("tr",null,(0,o.kt)("td",null,"PAGERDUTY_EVENT_KEY"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Optional")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - String",(0,o.kt)("br",null),(0,o.kt)("b",null,"Default")," - Paging disabled",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Token provided by pagerduty for sending pages about various alerts.",(0,o.kt)("br",null),(0,o.kt)("a",{href:"./monitoring#alerts"},"Oracle - Alerts"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"VERBOSE"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Optional")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - Flag (0 or 1)",(0,o.kt)("br",null),(0,o.kt)("b",null,"Default")," - 0, normal logging",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Set to 1 to increase the level of logging")))))}a.isMDXComponent=!0},66997:(t,l,n)=>{n.d(l,{ZP:()=>a});var e=n(83117),o=(n(67294),n(3905));const r={toc:[]};function a(t){let{components:l,...n}=t;return(0,o.kt)("wrapper",(0,e.Z)({},r,n,{components:l,mdxType:"MDXLayout"}),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Env Variable"),(0,o.kt)("th",null,"Definition"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"TASK_RUNNER_SOLANA_RPC"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Required")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - URL",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Solana mainnet RPC URL to support fulfilling update requests for Switchboard tasks that are reliant on Solana on-chain data.",(0,o.kt)("br",null),(0,o.kt)("br",null),(0,o.kt)("b",null,"NOTE:")," This is not required if CHAIN is set to solana and CLUSTER is mainnet-beta.")),(0,o.kt)("tr",null,(0,o.kt)("td",null,"GCP_CONFIG_BUCKET"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Optional")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - GCP Resource Path",(0,o.kt)("br",null),(0,o.kt)("b",null,"Default")," - Looks for configs.json in the current working directory. If not found, no config is loaded.",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Contains API keys for private API endpoints")))))}a.isMDXComponent=!0},68836:(t,l,n)=>{n.r(l),n.d(l,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>k,toc:()=>p});var e=n(83117),o=(n(67294),n(3905)),r=(n(90814),n(65488),n(85162),n(66997)),a=n(61441),u=n(25161);const i={sidebar_position:10,slug:"/oracles/aptos",title:"Aptos"},s=void 0,k={unversionedId:"oracles/chains/aptos",id:"oracles/chains/aptos",title:"Aptos",description:"Aptos Config",source:"@site/docs/oracles/chains/aptos.mdx",sourceDirName:"oracles/chains",slug:"/oracles/aptos",permalink:"/sbv2-core/oracles/aptos",draft:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,slug:"/oracles/aptos",title:"Aptos"},sidebar:"operator",previous:{title:"Background",permalink:"/sbv2-core/oracles/"},next:{title:"Near",permalink:"/sbv2-core/oracles/near"}},c={},p=[{value:"Aptos Config",id:"aptos-config",level:2},{value:"Oracle Config",id:"oracle-config",level:2},{value:"Task Runner Config",id:"task-runner-config",level:2},{value:"Keypair Config",id:"keypair-config",level:2},{value:"Monitoring Config",id:"monitoring-config",level:2}],b={toc:p};function d(t){let{components:l,...n}=t;return(0,o.kt)("wrapper",(0,e.Z)({},b,n,{components:l,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'env title="aptos.env"',env:!0,title:'"aptos.env"'},'CHAIN="aptos"\n# Aptos Config\nAPTOS_RPC_URL=""\nAPTOS_PID=""\n# Oracle Config\nAPTOS_ORACLE_KEY=""\nHEARTBEAT_INTERVAL=15\n# Task Runner Config\nTASK_RUNNER_SOLANA_RPC=""\nGCP_CONFIG_BUCKET="" # Optional, for private queues\n# Keypair Config\nFS_PAYER_SECRET_PATH=""\nDOCKER_PAYER_SECRET=""\nGOOGLE_PAYER_SECRET_PATH=""\nAMAZON_PAYER_SECRET_PATH=""\n# Monitoring Config\nMETRICS_EXPORTER=""\nPAGERDUTY_EVENT_KEY=""\nVERBOSE=1\n')),(0,o.kt)("h2",{id:"aptos-config"},"Aptos Config"),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Env Variable"),(0,o.kt)("th",null,"Definition"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"CHAIN"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Required to be set to 'aptos'")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - aptos / near / solana*",(0,o.kt)("br",null),(0,o.kt)("b",null,"Default")," - solana",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Dictates which chain to listen for on-chain events",(0,o.kt)("br",null))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"APTOS_RPC_URL"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Required")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - URL",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Aptos RPC URL. Must not be rate limited")),(0,o.kt)("tr",null,(0,o.kt)("td",null,"APTOS_PID"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Required")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - HexString",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - On-chain address of the deployed Switchboard V2 program")))),(0,o.kt)("h2",{id:"oracle-config"},"Oracle Config"),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Env Variable"),(0,o.kt)("th",null,"Definition"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"APTOS_ORACLE_KEY"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Required")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - Public Key",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Public key of the oracle account that has been granted permissions to use an oracle queue ",(0,o.kt)("br",null))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"HEARTBEAT_INTERVAL"),(0,o.kt)("td",null,(0,o.kt)("b",null,(0,o.kt)("u",null,"Optional")),(0,o.kt)("br",null),(0,o.kt)("b",null,"Type")," - Number (seconds)",(0,o.kt)("br",null),(0,o.kt)("b",null,"Default")," - 30",(0,o.kt)("br",null),(0,o.kt)("b",null,"Description")," - Seconds between oracle heartbeats. Queues have different oracle heartbeat requirements. Recommended value is 15")))),(0,o.kt)("h2",{id:"task-runner-config"},"Task Runner Config"),(0,o.kt)(r.ZP,{mdxType:"TaskRunnerEnv"}),(0,o.kt)("h2",{id:"keypair-config"},"Keypair Config"),(0,o.kt)("p",null,"You must provide one of the following environment variables, which is the same\nkeypair that is the authority for the given ",(0,o.kt)("inlineCode",{parentName:"p"},"$ORACLE_KEY")," and will pay for any\non-chain transactions."),(0,o.kt)(a.ZP,{mdxType:"KeypairEnv"}),(0,o.kt)("h2",{id:"monitoring-config"},"Monitoring Config"),(0,o.kt)(u.ZP,{mdxType:"MonitoringEnv"}))}d.isMDXComponent=!0}}]);