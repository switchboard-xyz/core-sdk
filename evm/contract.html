<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-evm/contract/overview">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Contract Overview | Switchboard</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.switchboard.xyz/img/documentation_card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.switchboard.xyz/img/documentation_card.jpg"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/evm/contract"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Contract Overview | Switchboard"><meta data-rh="true" name="description" content="The Switchboard EVM contract implements"><meta data-rh="true" property="og:description" content="The Switchboard EVM contract implements"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/evm/contract"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/evm/contract" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/evm/contract" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XO84KDTPTB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Switchboard RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Switchboard Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Switchboard" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.3d4442cb.css">
<link rel="preload" href="/assets/js/runtime~main.b6ad0e71.js" as="script">
<link rel="preload" href="/assets/js/main.a7ce8f28.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_JVTn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_Lc2C themedImage--light_OfHa" height="72" width="72"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_Lc2C themedImage--dark_aTa8" height="72" width="72"></div><b class="navbar__title text--truncate">Switchboard</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><div class="searchBox_aK9v"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_icon__github" aria-label="GitHub repository"></a><a href="https://twitter.com/switchboardxyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_icon__twitter" aria-label="Twitter Link"></a><div class="toggle__fwT colorModeToggle_w9SD"><button class="clean-btn toggleButton_GPw6 toggleButtonDisabled_MbkH" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_IQ0H"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_XPgo"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_pt1U docsWrapper_x4Rk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_yVT7" type="button"></button><div class="docPage_PuDF"><aside class="theme-doc-sidebar-container docSidebarContainer_WH5D"><div class="sidebarViewport_SH6O"><div class="sidebar_izeK"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_NUe_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">🔌 Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/getting-started">🚀 Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/network">🌐 The Network</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/the-oracle-problem">🔎 Learn</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solana">🛠️ Solana</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/evm">🛠️ EVM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/evm">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/evm/contract">Contract</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/evm/contract">Contract Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/evm/sb-push-prac;e">Sb Push Oracle</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/evm/dev">Developers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/evm/guides/first-contract">Guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/evm/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aptos">🛠️ Aptos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sui">🛠️ Sui</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/near">🛠️ NEAR</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/infra">🚧 Infrastructure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/data-feed-best-practices">ℹ️ More Info</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/security">🔐 Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terms">📚 Terminology</a></li></ul></nav></div></div></aside><main class="docMainContainer_pB8r"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_74nU"><div class="docItemContainer_rMDH"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GQIx" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_LKiY"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">🛠️ EVM</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Contract</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Contract Overview</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_HO6K theme-doc-toc-mobile tocMobile_lc9y"><button type="button" class="clean-btn tocCollapsibleButton_Tbsf">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Contract Overview</h1></header><p>The Switchboard EVM contract implements
<a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2535.md" target="_blank" rel="noopener noreferrer">EIP-2535 Diamond Proxy Pattern</a>
to facilitate a modular contract design allowing each module to be updated and
maintained individually. This allows Switchboard&#x27;s EVM contract to be used
across blockchains with different engineering constraints. Each module is a
facet that can be added to the contract to give it additional functionality.</p><p>The Switchboard EVM contract supports an on-chain attestation service where
user&#x27;s can write their own custom functions then have it be executed by an
off-chain oracle. When the function result is routed on-chain, the generated
MRENCLAVE measurement is verified on-chain; if the value is allowed, the user&#x27;s
custom contract call is executed, if the value is not allowed, the transaction
will revert.</p><h2 class="anchor anchorWithStickyNavbar_WPED" id="diamond-facets">Diamond Facets<a href="#diamond-facets" class="hash-link" aria-label="Direct link to Diamond Facets" title="Direct link to Diamond Facets">​</a></h2><p>The Switchboard EVM contract supports the following facets:</p><ul><li><a href="#admin">Admin</a></li><li><a href="#attestation-queue">Attestation Queue</a></li><li><a href="#enclave">Enclave</a></li><li><a href="#function">Function</a></li><li><a href="#function-call">Function Call</a></li></ul><h3 class="anchor anchorWithStickyNavbar_WPED" id="admin">Admin<a href="#admin" class="hash-link" aria-label="Direct link to Admin" title="Direct link to Admin">​</a></h3><p>Manages the admin of the
<a href="https://eips.ethereum.org/EIPS/eip-2771" target="_blank" rel="noopener noreferrer">EIP-2771: Meta Transactions</a> interface
to support third-parties paying for gas fees.</p><h3 class="anchor anchorWithStickyNavbar_WPED" id="attestation-queue">Attestation Queue<a href="#attestation-queue" class="hash-link" aria-label="Direct link to Attestation Queue" title="Direct link to Attestation Queue">​</a></h3><p>A Switchboard Attestation Queue represents a network of oracles responsible for validating
quotes from TEEs. Every time a switchboard oracle wants to send some data on
chain, it generates a signature from your code proving the output came from
the TEE and from a certain Switchboard Function.</p><p>This signature is sent to one of the Switchboard Attestation Oracles to check
this signature is valid.  If so, the oracle will then sign off and send a response
transaction on-chain perfermoning some signed action, like submitting a transaction.</p><p>This pattern is utilized when using a Switchboard Function.</p><p>When a user&#x27;s function is triggered to run, it will be launched on a node of the
attached attestation queue.</p><p>Once completed, the output will be sent to a secured sub-enclave to verify the
TEE quote in the enclave.  Once verified, this quote verifier will add its
signature to the transaction signifying that the quote was properly verified
and the transaction output by the funciton will be executed.</p><h3 class="anchor anchorWithStickyNavbar_WPED" id="function">Function<a href="#function" class="hash-link" aria-label="Direct link to Function" title="Direct link to Function">​</a></h3><p>A Switchboard function is an on-chain representation of a verifiable container
to run.</p><p>A user can specify a docker container to run and a &quot;measurement&quot; of the corresponding
code that is expected to run.  On each function run, this measurement is verified
before any function output is sent to the callback.</p><h3 class="anchor anchorWithStickyNavbar_WPED" id="function-call">Function Call<a href="#function-call" class="hash-link" aria-label="Direct link to Function Call" title="Direct link to Function Call">​</a></h3><p>A Switchboard function can also be called with parameters!  Say you create
a function to collect weather data for a certain location.  You wouldn&#x27;t want
to make a function explicitly for each coordinate you query. In the function
call flow, your function output is checked against the measurement loaded on
chain and the parameters the oracle processed are checked against the call on
chain so both the input and output of the function is verified.</p><p>Using a function call you can minimize code you need to write in your function while
keeping execution and verification simple and flexible.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/evm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Getting Started</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/evm/sb-push-prac;e"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sb Push Oracle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_W_pa thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#diamond-facets" class="table-of-contents__link toc-highlight">Diamond Facets</a><ul><li><a href="#admin" class="table-of-contents__link toc-highlight">Admin</a></li><li><a href="#attestation-queue" class="table-of-contents__link toc-highlight">Attestation Queue</a></li><li><a href="#function" class="table-of-contents__link toc-highlight">Function</a></li><li><a href="#function-call" class="table-of-contents__link toc-highlight">Function Call</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.b6ad0e71.js"></script>
<script src="/assets/js/main.a7ce8f28.js"></script>
</body>
</html>