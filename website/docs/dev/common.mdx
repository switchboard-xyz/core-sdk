---
sidebar_position: 20
title: "@switchboard-xyz/common"
---

<a
  style={{ padding: "0 5px" }}
  href="https://www.npmjs.com/package/@switchboard-xyz/common"
>
  <img
    alt="NPM Badge"
    src="https://img.shields.io/github/package-json/v/switchboard-xyz/sbv2-core?color=red&filename=javascript%2Fcommon%2Fpackage.json&label=%40switchboard-xyz%2Fcommon&logo=npm"
  />
</a>

A lightweight library to decode and parse aggregator accounts

## Quick Links

import RoundedCardGroup from "/src/components/RoundedCard/RoundedCardGroup";
import useBaseUrl from "@docusaurus/useBaseUrl";

<RoundedCardGroup
  cols={2}
  items={[
    {
      to: "https://github.com/switchboard-xyz/sbv2-core/tree/main/javascript/common",
      title: "Github",
      description: "View the Github repo",
      image: <img src={useBaseUrl("/img/icons/github/light.svg")} />,
      imageDark: <img src={useBaseUrl("/img/icons/github/dark.svg")} />,
    },
    {
      to: "https://docs.switchboard.xyz/api/@switchboard-xyz/common/",
      title: "Typedocs",
      description: "View the Typedocs",
      image: <img src={useBaseUrl("/img/icons/typedoc/logo.svg")} />,
      imageDark: <img src={useBaseUrl("/img/icons/typedoc/logo.svg")} />,
    },
  ]}
/>

## Install

```bash npm2yarn
npm install @switchboard-xyz/common
```

### Create an OracleJob

```ts
import { OracleJob, serializeOracleJob } from "@switchboard-xyz/common";

const oracleJob: OracleJob = serializeOracleJob({
  tasks: [
    {
      httpTask: {
        url: "https://www.binance.com/api/v3/ticker/price?symbol=BTCUSDT",
      },
    },
    {
      jsonParseTask: {
        path: "$.price",
      },
    },
    {
      multiplyTask: {
        /* Mainnet USDT/USD Feed */
        aggregatorPubkey: "ETAaeeuQBwsh9mC2gCov9WdhJENZuffRMXY2HgjCcSL9",
      },
    },
  ],
});
```

### Simulate an OracleJob

```ts
import { simulateOracleJobs } from "@switchboard-xyz/common";

const result = await simulateOracleJobs([oracleJob]);
console.log(result);
```
