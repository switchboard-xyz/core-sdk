<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-feeds/update-lifecycle">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Update Lifecycle | Switchboard</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/feeds/updates"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Update Lifecycle | Switchboard"><meta data-rh="true" name="description" content="An update request can be broken down into three stages:"><meta data-rh="true" property="og:description" content="An update request can be broken down into three stages:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/feeds/updates"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/feeds/updates" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/feeds/updates" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XO84KDTPTB-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Switchboard" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c9ab7924.css">
<link rel="preload" href="/assets/js/runtime~main.0cc37cee.js" as="script">
<link rel="preload" href="/assets/js/main.306b12d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_ToTc themedImage--light_HNdA" height="72" width="72"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="72" width="72"></div><b class="navbar__title text--truncate">Switchboard</b></a><a class="navbar__item navbar__link" href="/network">Learn</a><a class="navbar__item navbar__link" href="/publisher">Publish</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Integrate</a><ul class="dropdown__menu"><li><a class="dropdown__link header-aptos-link" href="/aptos"> Aptos</a></li><li><a class="dropdown__link header-near-link" href="/near"> Near</a></li><li><a class="dropdown__link header-solana-link" href="/solana"> Solana</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/dev">Develop</a><ul class="dropdown__menu"><li class="dropdown-heading"><b>Common</b></li><li><a class="dropdown__link header-typescript-link" href="/dev/cli">@switchboard-xyz/cli</a></li><li><a class="dropdown__link header-typescript-link" href="/dev/common">@switchboard-xyz/common</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Solana</b></li><li><a class="dropdown__link header-rust-link" href="/solana/dev/rust">  switchboard-v2</a></li><li><a class="dropdown__link header-typescript-link" href="/solana/dev/javascript">@switchboard-xyz/solana.js</a></li><li><a class="dropdown__link header-python-link" href="/solana/dev/python">  switchboardpy</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Aptos</b></li><li><a class="dropdown__link header-rust-link" href="/aptos/dev/move">  switchboard</a></li><li><a class="dropdown__link header-typescript-link" href="/aptos/dev/javascript">@switchboard-xyz/aptos.js</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Near</b></li><li><a class="dropdown__link header-rust-link" href="/near/dev/rust">  sbv2-near</a></li><li><a class="dropdown__link header-typescript-link" href="/near/dev/javascript">@switchboard-xyz/near.js</a></li></ul></div><a class="navbar__item navbar__link" href="/operator">Operate</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ðŸ“š Medium</a></li><li><a href="https://app.switchboard.xyz" target="_blank" rel="noopener noreferrer" class="dropdown__link">ðŸ“š Publisher</a></li><li><a href="https://switchboard.xyz/explorer" target="_blank" rel="noopener noreferrer" class="dropdown__link">ðŸ”Ž Explorer</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><h3 class="sidebar__custom_label sidebar__category_label">Network</h3></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/network">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/queue">Oracle Queue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/permissions">Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/crank">Crank</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-separator"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><h3 class="sidebar__custom_label sidebar__category_label">Feeds</h3></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds">What are Data Feeds?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds/tasks">Switchboard Tasks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/feeds/updates">Update Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds/cost">Cost Estimations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds/history">History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds/private-apis">Private APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds/best-practices">Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feeds/maintenance">Maintenance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-separator"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><h3 class="sidebar__custom_label sidebar__category_label">Randomness</h3></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/randomness">What is Randomness?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/randomness/solana">Solana VRF</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Update Lifecycle</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Update Lifecycle</h1></header><p>An update request can be broken down into three stages:</p><ul><li>Requesting Updates</li><li>Oracle Execution</li><li>Oracle Consensus</li></ul><p>Let&#x27;s walk through what the feed update lifecycle looks like.</p><style data-emotion="css 10okuxg">.css-10okuxg{background-color:inherit;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:90%;}</style><img class="MuiBox-root css-10okuxg" src="/img/update_request_activity.png"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="requesting-updates">Requesting Updates<a class="hash-link" href="#requesting-updates" title="Direct link to heading">â€‹</a></h2><p>A feed is updated when someone calls <code>aggregatorOpenRound</code> on-chain. If
openRound is called before <code>aggregator.minUpdateDelaySeconds</code> have elapsed, the
openRound call will fail and the user will forfeit their transaction fees. If
successful, the user is rewarded from the feed&#x27;s lease for keeping the feed
updating.</p><p>Optionally, a feed may be pushed onto a crank and updated periodically. Any data
feed permitted to request updates on a queue is also permitted to join a queue&#x27;s
existing Crank, <code>aggregator.crankPubkey</code>. The Crank is the scheduling mechanism
behind feeds that allow them to be periodically updated. The Crank is a buffer
account that stores a collection of aggregator public keys, ordered by their
next available update, with some level of jitter added to prevent a predictable
oracle allocation cycle. A feed can set <code>aggregator.disableCrank</code> to prevent
being pushed onto a Crank and draining it&#x27;s lease.</p><p>After <code>aggregatorOpenRound</code> is called successfully, the queue assigns the next
<code>aggregator.oracleRequestBatchSize</code> oracles to the update request and assigns
them to the current round.</p><ul><li>Any user calls <strong><em>aggregatorOpenRound</em></strong>, either manually or via a crank turn</li><li>sbv2 program checks if <code>aggregator.minUpdateDelaySeconds</code> have passed since
the last openRound call</li><li>sbv2 program checks if a LeaseContract has enough funds to reward the oracles
for the next round</li><li>sbv2 program assigns the next <code>aggregator.oracleRequestBatchSize</code> oracles to
the update request and emits an <strong><em>AggregatorOpenRoundEvent</em></strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-execution">Oracle Execution<a class="hash-link" href="#oracle-execution" title="Direct link to heading">â€‹</a></h2><ul><li>Oracle watches the chain for an <strong><em>AggregatorOpenRoundEvent</em></strong> with the
oracle&#x27;s public key assigned to the update</li><li>Oracle fetches the feed and job account definitions from its RPC Provider</li><li>Oracle verifies the job account definitions match the feeds
<code>aggregator.jobHashes</code></li><li>Oracle executes the job definitions in parallel</li><li>When an oracle receives <code>aggregator.minJobResults</code>, it calculates the weighted
median based on the feeds <code>aggregator.jobWeights</code>. Note, this is not enforced
on-chain and is purely up to the oracle to respect</li><li>If a feed has configured a <code>aggregator.varianceThreshold</code> and
<code>aggregator.forceReportPeriod</code> has not elapsed, the oracle calculates the
percentage change between its calculated result and the previous confirmed
round. If it does not exceed the feeds <code>aggregator.varianceThreshold</code>, the
oracle drops the update request and waits for new update request</li><li>If a feeds configuration dictate a new on-chain result, the oracle submits an
<strong><em>aggregatorSaveResult</em></strong> transaction</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-consensus">Oracle Consensus<a class="hash-link" href="#oracle-consensus" title="Direct link to heading">â€‹</a></h2><p>When a new update is requested, the feeds <code>aggregator.currentRound</code> is zeroized.
The AggregatorRound is updated each time an assigned oracle responds. After
<code>aggregator.minOracleResponses</code> responses, the round is moved to
<code>aggregator.latestConfirmedRound</code> and ready for on-chain programs to consume.</p><ul><li>sbv2 program waits for <code>aggregator.minOracleResults</code> to be submitted by the
assigned oracles</li><li>When sufficient oracle responses, the sbv2 program computes the accepted value
from the median of the oracle responses</li><li>If a feed has a history buffer account, the accepted result is pushed onto the
buffer</li><li>Oracles that responded within <code>queue.varianceToleranceMultiplier</code> are rewarded
<code>queue.reward</code> from the feed&#x27;s LeaseContract</li><li>If <code>queue.slashingEnabled</code>, oracles that responded outside the
<code>queue.varianceToleranceMultiplier</code> are slashed <code>queue.reward</code> tokens from
it&#x27;s <code>oracle.tokenAccount</code> and transferred to the feed&#x27;s <code>lease.escrow</code></li><li>If additional oracle responses are submitted after a value has been accepted,
the median is recalculated based on the new response set, oracle rewards are
redistributed, and the history buffer value is updated</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>AggregatorRound Definition (Solana)</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>numSuccess</td><td>u32</td><td>Maintains the number of successful responses received from nodes. Nodes can submit one successful response per round. Number of successful responses.</td></tr><tr><td>numError</td><td>u32</td><td>Number of error responses.</td></tr><tr><td>isClosed</td><td>bool</td><td>Whether an update request round has ended.</td></tr><tr><td>roundOpenSlot</td><td>u64</td><td>Maintains the <code>solana_program::clock::Slot</code> that the round was opened at. Solana slot when the update request round was open.</td></tr><tr><td>roundOpenTimestamp</td><td>i64</td><td>Maintains the <code>solana_program::clock::UnixTimestamp;</code> the round was opened at. Timestamp when the update request round was open.</td></tr><tr><td>result</td><td><a href="/solana/idl/types/switchboarddecimal">SwitchboardDecimal</a></td><td>Maintains the current median of all successful round responses.</td></tr><tr><td>stdDeviation</td><td><a href="/solana/idl/types/switchboarddecimal">SwitchboardDecimal</a></td><td>Standard deviation of the accepted results in the round.</td></tr><tr><td>minResponse</td><td><a href="/solana/idl/types/switchboarddecimal">SwitchboardDecimal</a></td><td>Maintains the minimum node response this round. Maintains the minimum oracle response this round.</td></tr><tr><td>maxResponse</td><td><a href="/solana/idl/types/switchboarddecimal">SwitchboardDecimal</a></td><td>Maintains the maximum node response this round. Maintains the maximum oracle response this round.</td></tr><tr><td>oraclePubkeysData</td><td>publicKey<!-- -->[16]</td><td>Pubkeys of the oracles fulfilling this round. Public keys of the oracles fulfilling this round.</td></tr><tr><td>mediansData</td><td><a href="/solana/idl/types/switchboarddecimal">SwitchboardDecimal</a>[16]</td><td>Represents all successful node responses this round. <code>NaN</code> if empty.</td></tr><tr><td>currentPayout</td><td>i64<!-- -->[16]</td><td>Current rewards/slashes oracles have received this round. Rewards to provide oracles and round openers on this queue.</td></tr><tr><td>mediansFulfilled</td><td>bool<!-- -->[16]</td><td>Keep track of which responses are fulfilled here. Keeps track of which responses are fulfilled here.</td></tr><tr><td>errorsFulfilled</td><td>bool<!-- -->[16]</td><td>Keeps track of which errors are fulfilled here.</td></tr></tbody></table></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sliding-window-mode">Sliding Window Mode<a class="hash-link" href="#sliding-window-mode" title="Direct link to heading">â€‹</a></h3><style data-emotion="css 1lvv3q3">.css-1lvv3q3{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1rem;}</style><div class="MuiBox-root css-1lvv3q3"><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 397.7 311.7"><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="360.8791" y1="351.4553" x2="141.213" y2="-69.2936" gradientTransform="matrix(1 0 0 -1 0 314)"><style data-emotion="css 1p20kq">.css-1p20kq{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;stop-color:#00FFA3;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1p20kq" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StopIcon" offset="0"><path d="M6 6h12v12H6z"></path></svg><style data-emotion="css 1i1m0g9">.css-1i1m0g9{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;stop-color:#DC1FFF;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1i1m0g9" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StopIcon" offset="1"><path d="M6 6h12v12H6z"></path></svg></linearGradient><path class="st0" d="M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5 c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z"></path><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="264.8291" y1="401.6014" x2="45.163" y2="-19.1475" gradientTransform="matrix(1 0 0 -1 0 314)"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1p20kq" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StopIcon" offset="0"><path d="M6 6h12v12H6z"></path></svg><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1i1m0g9" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StopIcon" offset="1"><path d="M6 6h12v12H6z"></path></svg></linearGradient><path class="st1" d="M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5 c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z"></path><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="312.5484" y1="376.688" x2="92.8822" y2="-44.061" gradientTransform="matrix(1 0 0 -1 0 314)"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1p20kq" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StopIcon" offset="0"><path d="M6 6h12v12H6z"></path></svg><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1i1m0g9" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="StopIcon" offset="1"><path d="M6 6h12v12H6z"></path></svg></linearGradient><path class="st2" d="M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4 c5.8,0,8.7-7,4.6-11.1L333.1,120.1z"></path></svg><style data-emotion="css bmfsuz">.css-bmfsuz{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;display:inline;padding:0rem 0.5rem;font-weight:700;}</style><p class="MuiTypography-root MuiTypography-body1 css-bmfsuz"> <!-- -->Note:<!-- --> </p><style data-emotion="css uovq3q">.css-uovq3q{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;display:inline;}</style><p class="MuiTypography-root MuiTypography-body1 css-uovq3q">Currently, only Solana supports sliding window mode.</p></div><p>During periods of network congestion, oracle responses may be delayed and
processed by the network after the next round has started. This results in a
data feed to be stale for a prolonged period of time even when an oracle
response is just milliseconds too late.</p><p>To remedy this, Solana feeds may enable sliding window mode
<code>aggregator.resolutionMode</code>. Sliding window mode allows an aggregator to store
the last 16 oracle responses even if they were processed after its assigned
round has closed. The sliding window account can only store a single response
per oracle to prevent an oracle from filling the responses with malicous data.
Upon each response, the <code>aggregator.latestConfirmedRound</code> is calculated from the
median of the last <code>aggregator.oracleRequestBatchSize</code> responses.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/feeds/tasks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Switchboard Tasks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/feeds/cost"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cost Estimations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requesting-updates" class="table-of-contents__link toc-highlight">Requesting Updates</a></li><li><a href="#oracle-execution" class="table-of-contents__link toc-highlight">Oracle Execution</a></li><li><a href="#oracle-consensus" class="table-of-contents__link toc-highlight">Oracle Consensus</a><ul><li><a href="#sliding-window-mode" class="table-of-contents__link toc-highlight">Sliding Window Mode</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.0cc37cee.js"></script>
<script src="/assets/js/main.306b12d5.js"></script>
</body>
</html>